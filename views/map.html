<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/launcher.png" type="image/x-icon">
    <title>Supply Me Map</title>
    <style></style>
</head>

<body>
    <div id="map" style="width: 100%; height: 800px;"></div>
    <h1 style="text-align: center;">Tracking Status</h1>
    <div class="tracking-status" style="margin-left: 100px;">
        <br>
        <h3>5000 Masks ðŸ¡† At your local warehouse</h3>
        <br>
        <h3>10000 Masks ðŸ¡† Shipping to local warehouse</h3>
        <br>
        <h3>500 Ventilators ðŸ¡† Awaiting Payment</h3>
    </div>
</body>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOonoY7LIvlYYiG319PloED5zVq7MUfkM&callback=initMap"
    type="text/javascript"></script>
<script>
    function initMap() {
        var directionsService = new google.maps.DirectionsService;
        var directionsRenderer = new google.maps.DirectionsRenderer;
 

        var postOfficeCoord = {
            lat: 38.919780,
            lng: -76.959760
        };
        var costcoCoord = {
            lat: 38.920400,
            lng: -76.950430
        }
        var walmartCoord = {
            lat: 38.900639,
            lng: -77.011711
        }

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 14,
            center: postOfficeCoord
        });

        var PostOfficemarker = new google.maps.Marker({
            position: postOfficeCoord,
            map: map,
            label: "Post Office"
        });
        var Costcomarker = new google.maps.Marker({
            position: costcoCoord,
            map: map,
            label: "Costco"
        });
        var Walmartmarker = new google.maps.Marker({
            position: walmartCoord,
            map: map,
            label: "Walmart"
        });
        directionsRenderer.setMap(map);
    }
    //Waypoint Routing
    function calculateAndDisplayRoute(directionsService, directionsRenderer) {
        var waypts = [];
        var checkboxArray = document.getElementById('waypoints');
        for (var i = 0; i < checkboxArray.length; i++) {
          if (checkboxArray.options[i].selected) {
            waypts.push({
              location: checkboxArray[i].value,
              stopover: true
            });
          }
        }

        directionsService.route({
          origin: postOfficeCoord,
          destination: costcoCoord,
          waypoints: waypts,
          optimizeWaypoints: true,
          travelMode: 'DRIVING'
        }, function(response, status) {
          if (status === 'OK') {
            directionsRenderer.setDirections(response);
            var route = response.routes[0];
            var summaryPanel = document.getElementById('directions-panel');
            summaryPanel.innerHTML = '';
            // For each route, display summary information.
            for (var i = 0; i < route.legs.length; i++) {
              var routeSegment = i + 1;
              summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
                  '</b><br>';
              summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
              summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
              summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
            }
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      }
</script>

</html>